accelerator:
  displayName: TAP Supply Chain
  description: Boilerplate for generating a Tanzu Application Platform Supply Chain
  iconUrl: https://avatars.githubusercontent.com/u/54452117?s=200&v=4
  tags:
  - tanzu
  - supply-chain

  options:

  - label: Workload Type
    description: The type of workload
    defaultValue: web
    name: workloadType
    inputType: text
    dataType: string
    required: true

  - label: Has Tests
    description: "If set to true, a source tester stage will be generated"
    defaultValue: false
    name: hasTests
    inputType: checkbox
    dataType: boolean
    required: true

  - label: Has Source Scan
    description: "If set to true, a source scan stage will be generated"
    defaultValue: false
    name: hasSourceScan
    inputType: checkbox
    dataType: boolean
    required: true

  - label: Source Scaning Tool
    description: The scanning tool to use for the source scan stage
    defaultValue: "grype"
    name: sourceScanningTool
    inputType: select
    dataType: string
    required: true
    choices:
    - value: grype
      text: Grype (default)
    - value: snyk
      text: Snyk (beta)
    - value: prisma
      text: Prisma
    - value: carbonblack
      text: Carbon Black
    dependsOn: 
      name: hasSourceScan

  - label: Build Tool
    description: The image build tool to use
    defaultValue: "tbs"
    name: buildTool
    inputType: select
    dataType: string
    required: true
    choices:
    - value: tbs
      text: Tanzu Build Service
    - value: kaniko
      text: Google Kaniko

  - label: Has Image Scan
    description: "If set to true, an image scan stage will be generated"
    defaultValue: true
    name: hasImageScan
    inputType: checkbox
    dataType: boolean
    required: true

  - label: Image Scanning Tool
    description: The scanning tool to use for the image scan stage
    defaultValue: "grype"
    name: imageScanningTool
    inputType: select
    dataType: string
    required: true
    choices:
    - value: grype
      text: Grype (default)
    - value: snyk
      text: Snyk (beta)
    - value: prisma
      text: Prisma
    - value: carbonblack
      text: Carbon Black
    dependsOn: 
      name: hasImageScan

  - label: Deployment Model
    description: Use GitOps or RegistryOps to deploy applications
    defaultValue: "config-writer-and-pull-requester-template"
    name: configWriterTemplate
    inputType: select
    dataType: string
    required: true
    choices:
    - value: config-writer-and-pull-requester-template
      text: GitOps
    - value: config-writer-template
      text: RegistryOps

  - label: Deploy onto the same cluster
    description: Should we deploy to the same or an external cluster
    defaultValue: "deliverable-template"
    name: externalDeliveryTemplate
    inputType: select
    dataType: string
    required: true
    choices:
    - value: external-deliverable-template
      text: External Delivery
    - value: deliverable-template
      text: Standard Delivery

  imports:
  - name: tap-workload
      
